(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{379:function(a,t,s){"use strict";s.r(t);var r=s(46),e=Object(r.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"小程序分包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小程序分包"}},[a._v("#")]),a._v(" 小程序分包")]),a._v(" "),s("h2",{attrs:{id:"小程序分包-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小程序分包-2"}},[a._v("#")]),a._v(" 小程序分包")]),a._v(" "),s("h3",{attrs:{id:"原因"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[a._v("#")]),a._v(" 原因")]),a._v(" "),s("p",[a._v("小程序主包或分包不能超过2M，总包大小不能超过16M，分包还可以优化小程序的首次启动时间。")]),a._v(" "),s("h3",{attrs:{id:"_1-创建与pages同级的目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建与pages同级的目录"}},[a._v("#")]),a._v(" 1.创建与pages同级的目录")]),a._v(" "),s("p",[s("img",{attrs:{src:"/assets/img/wx/subpackage1.png",alt:"路径示例"}})]),a._v(" "),s("h3",{attrs:{id:"_2-在pages-json中配置分包目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-在pages-json中配置分包目录结构"}},[a._v("#")]),a._v(" 2.在pages.json中配置分包目录结构")]),a._v(" "),s("p",[s("img",{attrs:{src:"/assets/img/wx/subpackage2.png",alt:"配置示例"}})]),a._v(" "),s("h3",{attrs:{id:"_3-分包后效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-分包后效果"}},[a._v("#")]),a._v(" 3.分包后效果")]),a._v(" "),s("p",[s("img",{attrs:{src:"/assets/img/wx/subpackage3.png",alt:"效果展示"}})]),a._v(" "),s("h3",{attrs:{id:"注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[a._v("#")]),a._v(" 注意")]),a._v(" "),s("blockquote",[s("p",[a._v("每个分包页面最好不超过12个页面，Tabbar页面必须放到主包")])]),a._v(" "),s("h2",{attrs:{id:"图片分包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片分包"}},[a._v("#")]),a._v(" 图片分包")]),a._v(" "),s("h2",{attrs:{id:"uni-app图片分包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#uni-app图片分包"}},[a._v("#")]),a._v(" uni-app图片分包")]),a._v(" "),s("h3",{attrs:{id:"原因-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原因-2"}},[a._v("#")]),a._v(" 原因")]),a._v(" "),s("p",[a._v("uni-app在打包的过程中图片不会被压缩，并且图片会被打包到主包，非常占用主包内存资源，所以进行图片分包的步骤")]),a._v(" "),s("h3",{attrs:{id:"_1-首先开启分包优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-首先开启分包优化"}},[a._v("#")]),a._v(" 1.首先开启分包优化")]),a._v(" "),s("p",[a._v('在manifest.json文件(很好奇为啥不是main而是mani)源码视图中,"mp-weixin"中配置以下代码')]),a._v(" "),s("p",[s("img",{attrs:{src:"/assets/img/wx/subpackage4.png",alt:"配置示例"}})]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("\t"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"optimization"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"subPackages"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("h3",{attrs:{id:"_2-在分包跟目录中创建static目录用于放置静态资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-在分包跟目录中创建static目录用于放置静态资源"}},[a._v("#")]),a._v(" 2.在分包跟目录中创建static目录用于放置静态资源")]),a._v(" "),s("p",[s("img",{attrs:{src:"/assets/img/wx/subpackage5.png",alt:"路径示例"}})]),a._v(" "),s("h3",{attrs:{id:"_3-打包后效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-打包后效果"}},[a._v("#")]),a._v(" 3.打包后效果")]),a._v(" "),s("p",[s("img",{attrs:{src:"/assets/img/wx/subpackage6.png",alt:"打包结果示例"}})]),a._v(" "),s("blockquote",[s("p",[a._v("成功打包到分包中，并且不占用主包内存")])]),a._v(" "),s("h2",{attrs:{id:"taro图片分包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#taro图片分包"}},[a._v("#")]),a._v(" taro图片分包")]),a._v(" "),s("p",[a._v("123")]),a._v(" "),s("h3",{attrs:{id:"使用import方式引用图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用import方式引用图片"}},[a._v("#")]),a._v(" 使用import方式引用图片")]),a._v(" "),s("p",[s("img",{attrs:{src:"/assets/img/wx/subpackage7.png",alt:"import引用示例"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);