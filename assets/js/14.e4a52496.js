(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{375:function(t,s,a){"use strict";a.r(s);var n=a(46),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"taro-deploy自动化部署-保姆版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#taro-deploy自动化部署-保姆版"}},[t._v("#")]),t._v(" taro-deploy自动化部署(保姆版)")]),t._v(" "),a("h2",{attrs:{id:"使用自动化部署的原因"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用自动化部署的原因"}},[t._v("#")]),t._v(" 使用自动化部署的原因")]),t._v(" "),a("h4",{attrs:{id:"在使用taro中经常遇到的流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在使用taro中经常遇到的流程"}},[t._v("#")]),t._v(" 在使用Taro中经常遇到的流程")]),t._v(" "),a("blockquote",[a("ol",[a("li",[t._v("开发完之后执行build命令")]),t._v(" "),a("li",[t._v("打开小程序发布新版本")]),t._v(" "),a("li",[t._v("去微信开发者网站设置为体验版")]),t._v(" "),a("li",[t._v("将二维码发送给测试人员")])])]),t._v(" "),a("p",[t._v("以上4个步骤表面看起来很简单，但是每次操作都会占用10-20分钟的时间，效率很低。\ntaro-deploy自动化部署的优势在于将上面步骤化繁为简，你需要做的就是执行一句命令，然后去上个厕所遛个弯，等待构建结果即可！")]),t._v(" "),a("h2",{attrs:{id:"_1-安装taro-deploy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装taro-deploy"}},[t._v("#")]),t._v(" 1. 安装taro-deploy")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("npm i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g taro"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("deploy\n")])])]),a("h2",{attrs:{id:"_2-准备小程序密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-准备小程序密钥"}},[t._v("#")]),t._v(" 2. 准备小程序密钥")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("把密钥下载到本地\n"),a("img",{attrs:{src:"/assets/img/taro/taro1.png",alt:"下载到本地密钥"}})])]),t._v(" "),a("li",[a("p",[t._v("把本地IP添加到白名单")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/taro/taro2.png",alt:"添加白名单"}})]),t._v(" "),a("h2",{attrs:{id:"_3-创建钉钉提醒机器人-pc端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建钉钉提醒机器人-pc端"}},[t._v("#")]),t._v(" 3.创建钉钉提醒机器人(pc端)")]),t._v(" "),a("ul",[a("li",[t._v("点击头像，机器人管理")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/taro/taro3.png",alt:"实例"}})]),t._v(" "),a("ul",[a("li",[t._v("点击自定义机器人")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/taro/taro4.png",alt:"实例"}})]),t._v(" "),a("ul",[a("li",[t._v("自定义关键词填上小程序构建。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/taro/taro5.png",alt:"实例"}})]),t._v(" "),a("ul",[a("li",[t._v("构建完成，保存"),a("code",[t._v("webhook url")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/taro/taro6.png",alt:"实例"}})]),t._v(" "),a("h2",{attrs:{id:"_4-添加配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-添加配置文件"}},[t._v("#")]),t._v(" 4.添加配置文件")]),t._v(" "),a("ul",[a("li",[t._v("在Taro项目根目录添加一个"),a("code",[t._v("deploy-config.js")]),t._v("文件内容给如下")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// deploy-config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 该文件应放在 Taro 项目的根目录下")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建结果的输出目录，该脚本产生的日志也会输出到这里")]),t._v("\n  outDir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./deploy-out'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 微信相关配置")]),t._v("\n  weapp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果为 false，则不会运行微信的构建流程")]),t._v("\n    enable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里填你们配置的 Taro 编译后微信程序包的输出路径")]),t._v("\n    projectPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dist/weapp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Step 2 里获得的私钥文件的存放路径")]),t._v("\n    keyPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./weapp.key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 微信小程序 appId")]),t._v("\n    appId"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wx82xxxxxx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 微信体验版图片地址")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 微信的体验版地址是一直不变的因此需要在这里配置该二维码图片的链接")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 直接从微信公众平台上复制的体验版图片地址貌似无法在钉钉里正常展示")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 建议转存到自己的 CDN 上，再将 cdn url 填到下面这里来")]),t._v("\n    qrcodeImageUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://xxxcdn.con/image/weapp-exp-qrcode.jpg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 小程序版本号")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 由于微信的命令行 sdk 不支持设置某个版本为体验版，要改设体验版需要在网页上手动操作")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所以只能曲线救国，先在网页上将本工具上传的版本设为体验版（找到 ci机器人1 上传的那个版本）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 然后每次上传都指定同一个版本号，以覆盖旧的版本，最终实现发布新体验版的效果")]),t._v("\n    version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.1.0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true 则将跳过编译阶段，即 taro build 命令，")]),t._v("\n    skipBuild"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认发体验版，填 false 则发布为预览版")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意如果发布为预览版，需要实现 uploadImage 的函数，否则钉钉无法展示\b预览版的二维码")]),t._v("\n  isExperience"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否在构建前运行 npm install")]),t._v("\n  npmInstall"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定环境变量，会在编译阶段，即 taro build 的指令中注入指定的环境变量")]),t._v("\n  env"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BUILD_ENV")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 仅作 demo，实际应填入你项目编译需要用的环境变量")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Step 3 中获取的钉钉机器人 webhook url")]),t._v("\n  dingTalkUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://oapi.dingtalk.com/robot/send?access_token=xxx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果你只需要构建发布体验版小程序，则可忽略以下函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果你需要构建发布预览版小程序，则需要实现该函数，将本地二维码图片文件转换为图片链接，否则无法将预览版二维码推送到钉钉群里")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 其中 objectName 形如 {platform}-{timestamp}.jpg，作为建议保存的文件名")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// filePath 为本地预览版二维码图片的路径")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("uploadImage")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("objectName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" filePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果你使用阿里云 oss 作 cdn，可以参考以下代码进行上传")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const OSS = require('ali-oss')")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const client = new OSS({")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   region: 'oss-cn-xxx',")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   accessKeyId: 'xxx',")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   accessKeySecret: 'xxx',")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   bucket: 'xxx',")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// })")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// await client.put(`preview/${objectName}`, filePath, {")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   'Cache-Control': 'max-age=31536000'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// })")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// return `https://xxx-oss-cdn.com/preview/${objectName}`")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"_5-运行taro-deploy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-运行taro-deploy"}},[t._v("#")]),t._v(" 5.运行taro-deploy")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("taro"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("deploy\n")])])]),a("ul",[a("li",[t._v("等待结果")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/taro/taro7.png",alt:"实例"}})]),t._v(" "),a("h2",{attrs:{id:"部分bug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部分bug"}},[t._v("#")]),t._v(" 部分BUG")]),t._v(" "),a("h3",{attrs:{id:"部分w10编译错误如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部分w10编译错误如下"}},[t._v("#")]),t._v(" 部分W10编译错误如下")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("Skip npm install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nWeapp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 正在编译"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nerror"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" spawn npx "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ENOENT")]),t._v("\nError"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" spawn npx "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ENOENT")]),t._v("\nat Process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ChildProcess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_handle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onexit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("child_process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("267")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onErrorNT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("child_process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("469")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("processTicksAndRejections")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("internal"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("process"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("task_queues"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("84")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\nerrno"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ENOENT'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\ncode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ENOENT'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nsyscall"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'spawn npx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\npath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'npx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nspawnargs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'taro'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--type'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'weapp'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("解决方案1 全局安装NPX")]),t._v(" "),a("li",[t._v('解决方案2(亲测可行)  原因是taro的build无法执行,解决思路跳过自动化部署中的build，deploy-config中的skipBuild设置为true  在package.json里加一段json脚本"deploy:weapp": "npm run build:weapp && taro-deploy"')])])])}),[],!1,null,null,null);s.default=e.exports}}]);